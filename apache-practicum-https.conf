<VirtualHost _default_:80>
	RewriteEngine On
	RewriteRule ^(.*)$ https://%{HTTP_HOST}$1 [R=301,L]
</VirtualHost>

<IfModule mod_ssl.c>
	<VirtualHost _default_:443>
		ServerAdmin practicum@cs.washington.edu
		DocumentRoot /var/www/html/practicum

		ErrorLog ${APACHE_LOG_DIR}/error.log
		CustomLog ${APACHE_LOG_DIR}/access.log combined

		SSLEngine on
		SSLCertificateFile	/var/keys/HOSTNAME.crt
		SSLCertificateKeyFile /var/keys/HOSTNAME.key

# Damn, need a different copy of this apache file for prod?
#        Order allow,deny
#        authtype Shibboleth
#        shibrequiresession on
#        require valid-user
#        Satisfy any
	</VirtualHost>
</IfModule>
