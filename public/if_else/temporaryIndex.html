<!DOCTYPE html>
<html>
<head lang="en">
    <title>Practice-That!</title>
	<link href="../css/navbar.css" type="text/css" rel="stylesheet" />
    <link href="if_else.css" type="text/css" rel="stylesheet" />
	<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.11.2.min.js"></script>
	<script src="../js/navigationbar.js"></script>

	<script src="../vendor/bootstrap/bootstrap.min.js"></script>
	<script src="../vendor/d3/d3.js"></script>

    <script type="text/javascript" src="java_parser/parser.js"></script>
    <script type="text/javascript" src="java_parser/ast.js"></script>
    <script type="text/javascript" src="java_parser/html_generator.js"></script>
    <script type="text/javascript" src="if_else.js"></script>

	<script src="../js/tpl/main.js"></script>
	<script src="../js/tpl/parser.js"></script>
	<script src="../js/tpl/simulator.js"></script>
	<script src="../js/tpl/explainer.js"></script>
	<script src="../js/tpl/algorithms/ifElseHelper.js"></script>

    <meta charset="UTF-8">
</head>

<script>

	window.onload = function () {
		console.log("in temp");
		console.log(if_else);

		var state = {
			"prompt": "First, look at the structure of the code in the problem",
			"initialization": {"x": 3, "y": 20},
			"lineNum": 1,
			"vars": {},
			"highlighted": []
		};

		var AST = JSON.parse('{"id":58,"location":{"start":{"line":0,"col":0},"end":{"line":19,"col":0}},"tag":"method","name":"ifElseMystery1","params":[{"id":1,"location":{"start":{"line":1,"col":35},"end":{"line":1,"col":40}},"tag":"parameter","type":"int","name":"x"},{"id":2,"location":{"start":{"line":1,"col":42},"end":{"line":1,"col":47}},"tag":"parameter","type":"int","name":"y"}],"body":[{"id":6,"location":{"start":{"line":2,"col":5},"end":{"line":2,"col":14}},"tag":"declaration","type":"int","expression":{"id":5,"location":{"start":{"line":2,"col":11},"end":{"line":2,"col":14}},"tag":"binop","operator":"=","args":[{"id":3,"location":{"start":{"line":2,"col":9},"end":{"line":2,"col":11}},"tag":"identifier","value":"z"},{"id":4,"location":{"start":{"line":2,"col":13},"end":{"line":2,"col":14}},"tag":"literal","type":"int","value":4}]}},{"id":22,"location":{"start":{"line":4,"col":5},"end":{"line":10,"col":5}},"tag":"if","condition":{"id":9,"location":{"start":{"line":4,"col":11},"end":{"line":4,"col":15}},"tag":"binop","operator":"<=","args":[{"id":7,"location":{"start":{"line":4,"col":9},"end":{"line":4,"col":11}},"tag":"identifier","value":"z"},{"id":8,"location":{"start":{"line":4,"col":14},"end":{"line":4,"col":15}},"tag":"identifier","value":"x"}]},"then_branch":[{"id":10,"location":{"start":{"line":5,"col":10},"end":{"line":5,"col":10}},"tag":"expression","expression":{"id":15,"location":{"start":{"line":5,"col":12},"end":{"line":5,"col":19}},"tag":"binop","operator":"=","args":[{"id":11,"location":{"start":{"line":5,"col":10},"end":{"line":5,"col":12}},"tag":"identifier","value":"z"},{"id":14,"location":{"start":{"line":5,"col":16},"end":{"line":5,"col":19}},"tag":"binop","operator":"+","args":[{"id":12,"location":{"start":{"line":5,"col":14},"end":{"line":5,"col":16}},"tag":"identifier","value":"x"},{"id":13,"location":{"start":{"line":5,"col":18},"end":{"line":5,"col":19}},"tag":"literal","type":"int","value":1}]}]}}],"else_branch":[{"id":16,"location":{"start":{"line":7,"col":10},"end":{"line":7,"col":10}},"tag":"expression","expression":{"id":21,"location":{"start":{"line":7,"col":12},"end":{"line":7,"col":19}},"tag":"binop","operator":"=","args":[{"id":17,"location":{"start":{"line":7,"col":10},"end":{"line":7,"col":12}},"tag":"identifier","value":"z"},{"id":20,"location":{"start":{"line":7,"col":16},"end":{"line":7,"col":19}},"tag":"binop","operator":"+","args":[{"id":18,"location":{"start":{"line":7,"col":14},"end":{"line":7,"col":16}},"tag":"identifier","value":"z"},{"id":19,"location":{"start":{"line":7,"col":18},"end":{"line":7,"col":19}},"tag":"literal","type":"int","value":9}]}]}}]},{"id":47,"location":{"start":{"line":10,"col":5},"end":{"line":17,"col":5}},"tag":"if","condition":{"id":25,"location":{"start":{"line":10,"col":11},"end":{"line":10,"col":14}},"tag":"binop","operator":">","args":[{"id":23,"location":{"start":{"line":10,"col":9},"end":{"line":10,"col":11}},"tag":"identifier","value":"z"},{"id":24,"location":{"start":{"line":10,"col":13},"end":{"line":10,"col":14}},"tag":"identifier","value":"y"}]},"then_branch":[{"id":26,"location":{"start":{"line":11,"col":10},"end":{"line":11,"col":10}},"tag":"expression","expression":{"id":28,"location":{"start":{"line":11,"col":11},"end":{"line":11,"col":13}},"tag":"postfix","operator":"++","args":[{"id":27,"location":{"start":{"line":11,"col":10},"end":{"line":11,"col":11}},"tag":"identifier","value":"y"}]}}],"else_branch":{"id":46,"location":{"start":{"line":12,"col":12},"end":{"line":17,"col":5}},"tag":"if","condition":{"id":31,"location":{"start":{"line":12,"col":18},"end":{"line":12,"col":21}},"tag":"binop","operator":"<","args":[{"id":29,"location":{"start":{"line":12,"col":16},"end":{"line":12,"col":18}},"tag":"identifier","value":"z"},{"id":30,"location":{"start":{"line":12,"col":20},"end":{"line":12,"col":21}},"tag":"identifier","value":"y"}]},"then_branch":[{"id":32,"location":{"start":{"line":13,"col":10},"end":{"line":13,"col":10}},"tag":"expression","expression":{"id":37,"location":{"start":{"line":13,"col":12},"end":{"line":13,"col":19}},"tag":"binop","operator":"=","args":[{"id":33,"location":{"start":{"line":13,"col":10},"end":{"line":13,"col":12}},"tag":"identifier","value":"y"},{"id":36,"location":{"start":{"line":13,"col":16},"end":{"line":13,"col":19}},"tag":"binop","operator":"-","args":[{"id":34,"location":{"start":{"line":13,"col":14},"end":{"line":13,"col":16}},"tag":"identifier","value":"y"},{"id":35,"location":{"start":{"line":13,"col":18},"end":{"line":13,"col":19}},"tag":"literal","type":"int","value":3}]}]}}],"else_branch":[{"id":38,"location":{"start":{"line":15,"col":10},"end":{"line":15,"col":10}},"tag":"expression","expression":{"id":45,"location":{"start":{"line":15,"col":12},"end":{"line":15,"col":23}},"tag":"binop","operator":"=","args":[{"id":39,"location":{"start":{"line":15,"col":10},"end":{"line":15,"col":12}},"tag":"identifier","value":"z"},{"id":44,"location":{"start":{"line":15,"col":20},"end":{"line":15,"col":23}},"tag":"binop","operator":"+","args":[{"id":42,"location":{"start":{"line":15,"col":16},"end":{"line":15,"col":20}},"tag":"binop","operator":"+","args":[{"id":40,"location":{"start":{"line":15,"col":14},"end":{"line":15,"col":16}},"tag":"identifier","value":"x"},{"id":41,"location":{"start":{"line":15,"col":18},"end":{"line":15,"col":20}},"tag":"identifier","value":"y"}]},{"id":43,"location":{"start":{"line":15,"col":22},"end":{"line":15,"col":23}},"tag":"literal","type":"int","value":7}]}]}}]}},{"id":48,"location":{"start":{"line":17,"col":5},"end":{"line":17,"col":5}},"tag":"expression","expression":{"id":57,"location":{"start":{"line":17,"col":24},"end":{"line":17,"col":37}},"tag":"call","object":{"id":51,"location":{"start":{"line":17,"col":15},"end":{"line":17,"col":24}},"tag":"reference","object":{"id":50,"location":{"start":{"line":17,"col":11},"end":{"line":17,"col":15}},"tag":"reference","object":{"id":49,"location":{"start":{"line":17,"col":5},"end":{"line":17,"col":11}},"tag":"identifier","value":"System"},"name":"out"},"name":"println"},"args":[{"id":56,"location":{"start":{"line":17,"col":33},"end":{"line":17,"col":36}},"tag":"binop","operator":"+","args":[{"id":54,"location":{"start":{"line":17,"col":27},"end":{"line":17,"col":33}},"tag":"binop","operator":"+","args":[{"id":52,"location":{"start":{"line":17,"col":25},"end":{"line":17,"col":27}},"tag":"identifier","value":"z"},{"id":53,"location":{"start":{"line":17,"col":29},"end":{"line":17,"col":33}},"tag":"literal","type":"string","value":" "}]},{"id":55,"location":{"start":{"line":17,"col":35},"end":{"line":17,"col":36}},"tag":"identifier","value":"y"}]}]}}]}');
		var problemConfig = {
			initialState: state,
			AST: AST
		}

		function CallbackObject() {
			this.getNextState = function() {
				return main_simulator.next();
			}
		}

		main_simulator.initialize("ifElse", {state:state, args:[AST]}).then(function() {
			console.log("finished initializing simulator");
			if_else.initialize(null, problemConfig, new CallbackObject());
		}, function(error) {
			console.error("something went wrong: ");
			console.log(error);
		});
	};


</script>
<body>
	<div class="topnavContainer topnavContainerScroll">
	</div>
    <div class="content">
		<div id="title_block">
			<h1 id="main_title">Practice-that!</h1>
        </div>
		<h2></h2>
		<h3 id="end_title">Current Method call: <span></span></h3>
    	<div id="problem_space"><pre></pre></div>

    	<div id="answer_box">
    		<span>
	    		<input id="answer" type="text" placeholder="Answer">
    			<br>
   			</span>
    		<button id="go_back">Go Back</button>
    		<a href="resources.html">More Resources</a>
    	</div>

    	<div id="variable_bank">
    		<h4 id="variable_bank_title">Variable Bank</h4>
            <ul id="variable_list">
                <li class="variable_list_item">
                    <span class="bank_variable">name</span>
                    <span class="bank_variable_value">value</span>
                </li>
            </ul>
            <p id="just_updated_explanation"><span id="just_updated_box"></span> => just updated</span></p>
    	</div>

    	<div id="prompt">Press Enter to start!</div>
		<div id="footer"></div>
    </div>
</body>
</html>
